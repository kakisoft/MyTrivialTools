<!DOCTYPE html>
<html lang="ja">
  <head>
      <meta charset="utf8">
      <title>MarkDownTableConverter</title>
      <style>
        table, td, th { 
          border: 2px #271c1c solid; 
          border-collapse: collapse;
        }
      </style>

  </head>
<body>
<h1 style="font-size: 1.5em">MarkDownTableConverter 的な何か</h1>
<div>
  <p>
    <input type="radio" name="functionKey" value="0">tsv To MarkDownTable
    &emswp;&emsp;&emsp;&emsp;
    <input type="radio" name="functionKey" value="1" checked>MarkDownTable To tsv  
  </p>
</div>
<div>
  <p>
    <input type="checkbox" checked="checked" id="is-special-control-firstline" style="margin-left: 1.5em">１行目をデータ定義として扱う。
  </p>
</div>
<div>
  <textarea id="target-content" style="width:60%; height:10em" placeholder="Please input any code."></textarea>
</div>

<p>
  <button type="button" id="execute-function01">MarkDownTableConvertert</button>
</p>
<p>
  <textarea id="result_syntax1" style="width:60%; height:10em" ></textarea>
</p>

<div id="result_syntax2">
</div>


<script src="./utils/KakiStdUtil.js"></script>
<script>

NEW_LINE_CHARACTER = "\n";

targetSyntaxElement = document.getElementById("target-content");
resultSyntaxElement1 = document.getElementById("result_syntax1");
resultSyntaxElement2 = document.getElementById("result_syntax2");

document.getElementById("execute-function01").addEventListener("click", convertMarkDownTable)

//=================================================================
//----------------------
//   For Develop Code
//----------------------
var forDev1 = `id	name	age	email	company_name
1	kaki	12	a@cbom	ペーパー
2	soft	34	b@cbom	架空
3	fake	69	y@xcom	税金対策
`

document.getElementById("target-content").innerHTML = forDev1;

//=================================================================


//======================================
//       convertMarkDownTable
//======================================
function convertMarkDownTable(){
  var isSpecialControlFirstline = document.getElementById("is-special-control-firstline").checked;


  var targetSyntaxContent = targetSyntaxElement.value;
  var resultContentArray = [];

  resultSyntaxElement1.textContent = ""
  resultSyntaxElement2.innerHTML = ""

  // var controlparam = { columnNameLine: 0 , dataStartLine: 0 };

  //-----< Set Control Param >-----
  setControlParam(controlparam, isSpecialControlFirstline);


  // //-----< Set ResultChunkSet >-----
  // var resultChunkSet = [];
  // setResultChunkSet(resultChunkSet, targetSyntaxContent);
  // if(resultChunkSet.length <= 0){
  //   resultSyntaxElement1.textContent = "データ何かおかしいかも。" + NEW_LINE_CHARACTER + "() が無いとか。 ";
  //   return;
  // }

  //-----< Set Result Contents >-----
  setResultContents(resultContentArray, resultChunkSet);

  //-----< Output Result >-----
  // resultSyntaxElement1.textContent = resultContentArray[0];
  // resultSyntaxElement2.innerHTML = resultContentArray[1];

}

//=======================================================================================================
//=======================================================================================================

//-------------------------------------
//        Set Control Param
//-------------------------------------
function setControlParam(controlparam, isSpecialControlFirstline){
  if(isSpecialControlFirstline){
    controlparam['columnNameLine'] = 1;
  }else{
    controlparam['columnNameLine'] = 0;
  }

  controlparam['dataStartLine'] = controlparam['columnNameLine'] + 2;

  return;
}


//=======================================================================================================
//=======================================================================================================

</script>
</body>
</html>
<!DOCTYPE html>
<html lang="ja">
  <head>
      <meta charset="utf8">
      <title>Seq</title>
  </head>
<body>

<div>
  <input type="radio" name="formatType" value="1" checked>tsv
  <input type="radio" name="formatType" value="2">csv

  <input type="checkbox" checked="checked" id="is_special_control_firstline" style="margin-left: 10em">１行目をデータ定義として扱う。（「c」の場合 『"』で囲む）
</div>

<textarea id="target-syntax" cols="100" rows="10" placeholder="Please input any code."></textarea>

<p>
  <button type="button" id="create-InsertStatement">create-InsertStatement</button>
</p>
<p>
  <textarea id="result-syntax" cols="100" rows="10"></textarea>
</p>

<script>

var forDev1;
forDev1 = "";
forDev1 += "id	name	email	company_name"  + "\n";
forDev1 += "1	kaki	a@cbom	ペーパー"  + "\n";
forDev1 += "2	soft	b@cbom	架空"  + "\n";



document.getElementById("target-syntax").innerHTML = forDev1;

// console.log("sss")


var FORMAT_TYPE = {
  TSV : 1,
  CSV : 2,
};

function getSplitChar(){
  var switchKey = getSelectedRadioButtonValue("formatType")

  switch (parseInt(switchKey)){
    case FORMAT_TYPE.TSV:
      return "\t"
    case FORMAT_TYPE.CSV:
      return ","
  }
}

document.getElementById("create-InsertStatement").addEventListener("click", createInsertStatement)


//======================================
//           
//======================================
function createInsertStatement(){
  NEW_LINE_CHARACTER = "\n";

  var splitChar = getSplitChar();
  var isSpecialControlFirstline = document.getElementById("is_special_control_firstline").checked;

  var resultSyntaxContentArray = [];
  var targetSyntaxElement = document.getElementById("target-syntax");
  var targetSyntaxContent = targetSyntaxElement.value;


  var targetSyntaxContentArray =  targetSyntaxContent.split(/\r?\n/g);



  // console.log(splitChar);



  targetSyntaxContentArray.forEach((lineUnitElement)=>{
    var linerContentArray = [];
    var linerContentArray = lineUnitElement.split(splitChar);

console.log(splitChar)
    linerContentArray.forEach(function(cellUnitElement) {
      console.log(cellUnitElement)  

    });

  });


  //-----＜ discription ＞-----
  for(var i=0; i < targetSyntaxContentArray.length; i++){
    
    [i] =  targetSyntaxContentArray[i] + NEW_LINE_CHARACTER
                                //  + targetSyntaxContentArray2[i] + NEW_LINE_CHARACTER
                                //  + targetSyntaxContentArray3[i] + NEW_LINE_CHARACTER
  }

  
  //-----＜ 処理結果を出力 ＞-----
  outputResult(resultSyntaxContentArray);
}

//====================
//     結果を出力
//====================
function outputResult(resultSyntaxContentArray){
  var resultSyntaxElement = document.getElementById("result-syntax");
  var resultSyntaxContent = resultSyntaxContentArray.join(NEW_LINE_CHARACTER);
  resultSyntaxElement.textContent = resultSyntaxContent;
}
</script>
<script src="./utils/KakiUtils.js"></script>
</body>
</html>